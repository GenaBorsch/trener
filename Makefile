.PHONY: start stop dev help

# –ü—É—Ç—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
APP_DIR = powerlift-tracker

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 3000
start:
	@echo "üöÄ –ó–∞–ø—É—Å–∫–∞—é dev —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3000..."
	@cd $(APP_DIR) && npm run dev -- --port 3000

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev —Å–µ—Ä–≤–µ—Ä–∞
stop:
	@echo "üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é dev —Å–µ—Ä–≤–µ—Ä..."
	@-pkill -f "next dev" 2>/dev/null && echo "‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω" || echo "‚ö†Ô∏è  –°–µ—Ä–≤–µ—Ä —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
	@-pkill -f "node.*next" 2>/dev/null || true

# –ê–ª–∏–∞—Å –¥–ª—è start
dev: start

# –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
help:
	@echo "üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
	@echo "  make start  - –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3000"
	@echo "  make stop   - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä"
	@echo "  make dev    - –ê–ª–∏–∞—Å –¥–ª—è start"
	@echo "  make help   - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É"

